# روز ۴ - مدیریت افزونه‌های کوبرنتیس برای چند خوشه با وضعیت زمان اجرا

[![تماشای ویدیو](../thumbnails/day4.png)](https://www.youtube.com/watch?v=9OJSRbyEGVI)

در این دموی فنی، تیم پروژهٔ Zelos نشان می‌دهد چگونه می‌توان افزونه‌ها و پیکربندی‌های مختلف را روی چند خوشهٔ کوبرنتیس مدیریت کرد و از انحراف (drift) جلوگیری نمود. بخش‌های مهم ارائه عبارت‌اند از:

- **مدیر شناسایی انحراف:** اختلاف بین وضعیت مطلوب و واقعی خوشه را کشف می‌کند و منابع را به حالت تعریف‌شده برمی‌گرداند.
- **برچسب‌گذاری هوشمند خوشه‌ها:** با استقرار یک «کلاس‌فایر» براساس نسخهٔ کوبرنتیس، برچسب `deploy_prometheus` به خوشه‌هایی با نسخه ۱.۲۷ یا بالاتر اضافه شد تا پروفایل مناسب به صورت خودکار اجرا شود.
- **پروفایل‌های خوشه:** مجموعه‌ای از چارت‌های Helm (مثلاً Prometheus و Grafana) که با یک انتخاب‌گر روی خوشه‌های متناسب اعمال می‌شوند و پس از حذف پروفایل، منابع را نیز می‌توان خودکار پاک کرد.
- **قابلیت پیکربندی رفتار حذف:** می‌توانید تعیین کنید هنگام حذف پروفایل، منابع روی خوشه باقی بمانند یا پاک شوند تا کنترل کامل بر چرخهٔ عمر افزونه‌ها داشته باشید.

## گام‌های بعدی پیشنهادی

1. برچسب‌ها و انتخاب‌گرهای فعلی خوشه‌های سازمان خود را بازبینی کنید تا مطمئن شوید با نیازهای استقرار همخوان هستند.
2. برای افزونه‌های کلیدی (مانند پایش و امنیت) پروفایل‌های Helm تعریف کنید و آن‌ها را روی محیط‌های آزمایشی اعمال کنید.
3. سناریوهای انحراف را شبیه‌سازی کنید تا مطمئن شوید سیستم مدیریت شما توانایی بازگردانی حالت مطلوب را دارد.

> برای دسترسی به متن انگلیسی این روز، به فایل [Day 4 - Manage Kubernetes Add-Ons for Multiple Clusters Using Cluster Run-Time State](../day04.md) مراجعه کنید.
